webpackJsonp([14],{inzK:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("gyMJ"),s=r("tvpV"),m={data:function(){var e=this;return{form:{writeTime:Date.now(),firstWeek:null,secondWeek:null,thirdWeek:null,fourthWeek:null,fifthWeek:null,workTarget:null,year:null,month:null,userId:null,firstWeekCustom:null,secondWeekCustom:null,thirdWeekCustom:null,fourthWeekCustom:null,fifthWeekCustom:null},targetValidator:[{required:!0,message:"月到账目标不能为空"},{validator:function(t,r,o){var s=e.form,m=s.firstWeek,l=s.secondWeek,f=s.thirdWeek,i=s.fourthWeek,n=s.fifthWeek;e.form.firstWeek=parseInt(m),e.form.secondWeek=parseInt(l),e.form.thirdWeek=parseInt(f),e.form.fourthWeek=parseInt(i),e.form.fifthWeek=parseInt(n),r=parseInt(r);var a=e.form.firstWeek+e.form.secondWeek+e.form.thirdWeek+e.form.fourthWeek+e.form.fifthWeek;r===a?(e.form.workTarget=a,o()):o(new Error("月到账目标应当等于每一周的到账目标之和"))},trigger:"submit"}]}},mounted:function(){this.form.userId=Object(s.b)().id},methods:{submit:function(){var e=this;this.$refs.form.validate(function(t){if(t){var r=new Date(e.form.writeTime);e.form.year=r.getFullYear(),e.form.month=r.getMonth()+1,Object(o.j)(e.form).then(function(t){t.success?(e.$message({message:t.message,type:"success"}),e.$router.go(-1)):e.$message.error(t.message)})}else e.$message.error("请检查错误")})},back:function(){this.$router.go(-1)}},filters:{showYears:function(e){return e.substr(1)}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrap"},[r("div",{staticClass:"title"},[e._v("\n    目标填写及分解\n  ")]),e._v(" "),r("el-form",{ref:"form",attrs:{model:e.form,inline:"",size:"mini","label-width":"170px","label-position":"left"}},[r("el-form-item",{attrs:{prop:"writeTime",label:"当前填写目标时间："}},[r("el-date-picker",{attrs:{type:"month"},model:{value:e.form.writeTime,callback:function(t){e.$set(e.form,"writeTime",t)},expression:"form.writeTime"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{prop:"target",label:"月到账目标：",rules:e.targetValidator}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.target,callback:function(t){e.$set(e.form,"target",t)},expression:"form.target"}})],1),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{prop:"firstWeek",label:"(第一周)周 在线 目标："}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.firstWeek,callback:function(t){e.$set(e.form,"firstWeek",t)},expression:"form.firstWeek"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"firstWeekCustom",label:"周 到账 目标：",rules:{required:!0,message:"周到账目标不能为空"}}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.firstWeekCustom,callback:function(t){e.$set(e.form,"firstWeekCustom",t)},expression:"form.firstWeekCustom"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{prop:"secondWeek",label:"(第二周)周 在线 目标："}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.secondWeek,callback:function(t){e.$set(e.form,"secondWeek",t)},expression:"form.secondWeek"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"secondWeekCustom",label:"周 到账 目标：",rules:{required:!0,message:"周到账目标不能为空"}}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.secondWeekCustom,callback:function(t){e.$set(e.form,"secondWeekCustom",t)},expression:"form.secondWeekCustom"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{prop:"thirdWeek",label:"(第三周)周 在线 目标："}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.thirdWeek,callback:function(t){e.$set(e.form,"thirdWeek",t)},expression:"form.thirdWeek"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"thirdWeekCustom",label:"周 到账 目标：",rules:{required:!0,message:"周到账目标不能为空"}}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.thirdWeekCustom,callback:function(t){e.$set(e.form,"thirdWeekCustom",t)},expression:"form.thirdWeekCustom"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{prop:"fourthWeek",label:"(第四周)周 在线 目标："}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.fourthWeek,callback:function(t){e.$set(e.form,"fourthWeek",t)},expression:"form.fourthWeek"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"fourthWeekCustom",label:"周 到账 目标：",rules:{required:!0,message:"周到账目标不能为空"}}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.fourthWeekCustom,callback:function(t){e.$set(e.form,"fourthWeekCustom",t)},expression:"form.fourthWeekCustom"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{attrs:{prop:"fifthWeek",label:"(第五周)周 在线 目标："}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.fifthWeek,callback:function(t){e.$set(e.form,"fifthWeek",t)},expression:"form.fifthWeek"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"fifthWeekCustom",label:"周 到账 目标：",rules:{required:!0,message:"周到账目标不能为空"}}},[r("el-input",{attrs:{type:"number"},model:{value:e.form.fifthWeekCustom,callback:function(t){e.$set(e.form,"fifthWeekCustom",t)},expression:"form.fifthWeekCustom"}})],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),e._v(" "),r("el-button",{on:{click:e.back}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var f=r("C7Lr")(m,l,!1,function(e){r("tBSa")},"data-v-5e357f5c",null);t.default=f.exports},tBSa:function(e,t){}});
//# sourceMappingURL=14.d2c366d8d0ca150a4858.js.map
webpackJsonp([17],{"3+HQ":function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("js5j"),o=l("gyMJ"),n={components:{Page:a.a},mounted:function(){this.getUserList(),this.getGroupList(),this.getDeptList(),this.bindData()},data:function(){return{form:{},page:{pageSize:10,pageNum:1,total:10},loading:!1,statusOptions:[{label:"全部",value:"name"},{label:"待确认",value:"name"},{label:"已确认",value:"name"},{label:"已修改",value:"name"},{label:"退回申请",value:"name"}],orderByOptions:[{label:"全部",value:"name"},{label:"由高到低",value:"name"},{label:"由低到高",value:"name"}],checkingTableData:[{name:"name",id:1}],otherRecordsTableData:[{name:"name",id:1}],otherRecordsVisiable:!1,deptList:[],groupList:[],userList:[]}},methods:{getUserList:function(){var e=this;Object(o.B)().then(function(t){e.userList=t})},getDeptList:function(){var e=this;Object(o.q)().then(function(t){e.deptList=t})},getGroupList:function(){var e=this;Object(o.u)().then(function(t){e.groupList=t})},showOtherRecords:function(e){this.otherRecordsVisiable=!0},bindData:function(){var e=this,t=this.page.pageNum,l=this.page.pageSize,a=this.form;this.loading=!0,Object(o.o)(a,t,l).then(function(t){t.rows.forEach(function(t,l){t.cmApplyTime=e.getMyDate(t.cmApplyTime),t.cmBackTime=e.getMyDate(t.cmBackTime),e.groupList.forEach(function(e){t.cmSellDept==e.groupDeptId&&t.cmDept==e.groupId&&(t.cmSellDept=e.groupName)}),e.userList.forEach(function(e){t.cmUserId==e.id&&(t.cmUserId=e.username)}),e.deptList.forEach(function(e){t.cmDept==e.deptId&&(t.cmDept=e.deptName)})}),console.log(t),e.checkingTableData=t.rows,e.page.total=t.total,e.loading=!1}).catch(function(){e.loading=!1})},getMyDate:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}},r={render:function(){var e=this,t=this,l=t.$createElement,a=t._self._c||l;return a("div",[a("div",{staticClass:"title"},[t._v("查款管理")]),t._v(" "),a("el-form",{attrs:{inline:"",size:"mini","label-position":"left","label-width":"120px;"}},[a("el-form-item",{attrs:{label:"店铺名称："}},[a("el-input",{model:{value:t.form.shopName,callback:function(e){t.$set(t.form,"shopName",e)},expression:"form.shopName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"优惠券名称："}},[a("el-input",{model:{value:t.form.cmYhqName,callback:function(e){t.$set(t.form,"cmYhqName",e)},expression:"form.cmYhqName"}})],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",{attrs:{label:"申请时间："}},[a("el-date-picker",{attrs:{type:"date"},model:{value:t.form.cmApplyTimeBegin,callback:function(e){t.$set(t.form,"cmApplyTimeBegin",e)},expression:"form.cmApplyTimeBegin"}})],1),t._v(" "),a("span",{staticStyle:{position:"relative",top:"5px",left:"-2px"}},[t._v("至")]),t._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"date"},model:{value:t.form.cmApplyTimeEnd,callback:function(e){t.$set(t.form,"cmApplyTimeEnd",e)},expression:"form.cmApplyTimeEnd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"到款时间："}},[a("el-date-picker",{attrs:{type:"date"},model:{value:t.form.cmBackTimeBegin,callback:function(e){t.$set(t.form,"cmBackTimeBegin",e)},expression:"form.cmBackTimeBegin"}})],1),t._v(" "),a("span",{staticStyle:{position:"relative",top:"5px",left:"-2px"}},[t._v("至")]),t._v(" "),a("el-form-item",[a("el-date-picker",{attrs:{type:"date"},model:{value:t.form.cmBackTimeEnd,callback:function(e){t.$set(t.form,"cmBackTimeEnd",e)},expression:"form.cmBackTimeEnd"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"状态："}},[a("el-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.statusOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"服务费金额统计："}},[a("el-input",{attrs:{type:"number"},model:{value:t.form.cmFwPrice,callback:function(e){t.$set(t.form,"cmFwPrice",e)},expression:"form.cmFwPrice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"结算金额排序："}},[a("el-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.orderByOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.bindData}},[t._v("查询")]),t._v(" "),a("el-button",{on:{click:function(){e.form={},e.bindData()}}},[t._v("重置")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{size:"mini",data:t.checkingTableData}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmSellDept",label:"销售部"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmDept",label:"部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmUserId",label:"责任人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmShopName",label:"店铺名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"link",on:{click:function(l){return t.showOtherRecords(e.row.id)}}},[t._v(t._s(e.row.cmShopName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cmShopType",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmJsMoney",label:"结算金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmFkMoney",label:"返款金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmSyMoney",label:"剩余金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmJsNums",label:"结算量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmFwPrice",label:"服务费单价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmYhqPhoto",label:"优惠券截图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:"http://iph.href.lu/200x200","min-width":"70",height:"70"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"打款截图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:"http://iph.href.lu/200x200","min-width":"70",height:"70"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"cmLoadCustomer",label:"转入账户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmApplyTime",label:"申请时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmType",label:"查款状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmYhqName",label:"优惠券名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmBackTime",label:"到款时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmText",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cmYhqType",label:"券截图"}}),t._v(" "),a("el-table-column",{attrs:{label:"再次提交",width:"120px"}},[[a("el-button",{attrs:{size:"mini",type:"success"}},[t._v("再次提交")])]],2)],1),t._v(" "),a("Page",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{page:t.page},on:{change:t.bindData}}),t._v(" "),a("el-dialog",{attrs:{title:"此店铺下同属这笔款的商品记录",width:"80%",visible:t.otherRecordsVisiable},on:{"update:visible":function(e){t.otherRecordsVisiable=e}}},[a("el-table",{staticStyle:{width:"100%"},attrs:{size:"mini",data:t.otherRecordsTableData}},[a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{label:"部门",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"销售人",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"店铺名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"商品ID",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"优惠券名称",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"上线时间",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"下线时间",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算金额",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"结算量",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"服务费单价",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"转入账户",prop:"name"}}),t._v(" "),a("el-table-column",{attrs:{label:"打款日期",prop:"name"}})],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"10px","text-align":"right"},attrs:{background:"",layout:"prev, pager, next",total:100}})],1)],1)},staticRenderFns:[]};var i=l("C7Lr")(n,r,!1,function(e){l("tBbh")},"data-v-4291cffc",null);t.default=i.exports},tBbh:function(e,t){}});
//# sourceMappingURL=17.0173944b0c7a5bdb12ac.js.map
{"version":3,"sources":["webpack:///src/pages/home/index.vue","webpack:///./src/pages/home/index.vue?946a","webpack:///./src/pages/home/index.vue"],"names":["home","data","tableData","loading","mounted","_this","this","userId","Object","auth","id","date","Date","month","getMonth","year","getFullYear","api","then","res","list","target","workTarget","nowDay","getDate","fullDay","shouldBeDone","toFixed","hasDone","firstWeekCustom","secondWeekCustom","thirdWeekCustom","fourthWeekCustom","fifthWeekCustom","donePercent","diff","plannedSpeed","monthDays","day","diff2","push","methods","nav2WriteTarget","$router","path","tableHeaderColor","row","column","rowIndex","columnIndex","tableRowStyle","_ref","pages_home","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","float","margin-bottom","attrs","type","size","on","click","_v","directives","name","rawName","value","expression","border","align","header-cell-style","row-style","label","prop","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"kIA0BAA,GACAC,KADA,WAEA,OACAC,aACAC,SAAA,IAGAC,QAPA,WAOA,IAAAC,EAAAC,KACAC,EAAAC,OAAAC,EAAA,EAAAD,GAAAE,GACAC,EAAA,IAAAC,KACAC,EAAAF,EAAAG,WAAA,EACAC,EAAAJ,EAAAK,cAMIR,OAAAS,EAAA,EAAAT,CAAJD,EAAAQ,EAAAF,GAAAK,KAAA,SAAAC,GACA,GAAAA,EAAA,CACA,IAAAC,GACAC,OAAAF,EAAAG,YAEAC,EAAAZ,EAAAa,UACAC,EAAA,IAAAb,KAAAD,EAAAK,cAAAL,EAAAG,WAAA,KAAAU,UACAJ,EAAAM,cAAAN,EAAAC,OAAAI,EAAAF,GAAAI,QAAA,GACAP,EAAAQ,QAAAT,EAAAU,gBAAAV,EAAAW,iBAAAX,EAAAY,gBAAAZ,EAAAa,iBAAAb,EAAAc,gBACAb,EAAAc,aAAAd,EAAAQ,QAAAR,EAAAC,OAAA,KAAAM,QAAA,OACAP,EAAAe,KAAAf,EAAAC,OAAAD,EAAAQ,QAAA,OAAAR,EAAAC,OAAAD,EAAAQ,SAAA,QAAAR,EAAAC,OAAAD,EAAAQ,SACAR,EAAAgB,cAAAb,EAAAE,EAAA,KAAAE,QAAA,OACAP,EAAAiB,UAAAZ,EACAL,EAAAkB,IAAAf,EACAH,EAAAmB,OAAA,KAAAnB,EAAAQ,QAAAR,EAAAC,OAAAE,EAAAE,IAAAE,QAAA,OACAtB,EAAAH,UAAAsC,KAAApB,GAEAf,EAAAF,SAAA,KAKAsC,SACAC,gBADA,WAEApC,KAAAqC,QAAAH,MAAAI,KAAA,2BAEAC,iBAJA,SAIAC,EAAAC,EAAAC,EAAAC,GACA,0DAEAC,cAPA,SAAAC,GAOAA,EAAAL,IAAAK,EAAAH,SACA,4DCtEeI,GADEC,OAFjB,WAA0B,IAAAC,EAAAhD,KAAaiD,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAwBF,EAAA,UAAAA,EAAA,aAA+BG,aAAaC,MAAA,QAAAC,gBAAA,QAAuCC,OAAQC,KAAA,UAAAC,KAAA,QAA+BC,IAAKC,MAAAb,EAAAZ,mBAA6BY,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAX,EAAA,UAAAA,EAAA,YAA+DY,aAAaC,KAAA,UAAAC,QAAA,YAAAC,MAAAlB,EAAA,QAAAmB,WAAA,YAA4EV,OAAS9D,KAAAqD,EAAApD,UAAAwE,OAAA,GAAAT,KAAA,OAAAU,MAAA,SAAAC,oBAAAtB,EAAAT,iBAAAgC,YAAAvB,EAAAJ,iBAAwIO,EAAA,mBAAwBM,OAAOY,MAAA,SAAAG,MAAA,aAAoCrB,EAAA,mBAAwBM,OAAOY,MAAA,YAAkBrB,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAX,EAAA,mBAAmDE,YAAA,MAAAI,OAAyBe,MAAA,MAAAC,KAAA,SAAAJ,MAAA,YAAgDrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOe,MAAA,MAAAC,KAAA,eAAAJ,MAAA,YAAsDrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOe,MAAA,OAAAC,KAAA,UAAAJ,MAAA,YAAkDrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOe,MAAA,MAAAC,KAAA,cAAAJ,MAAA,YAAqDrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOe,MAAA,YAAAH,MAAA,YAAsClB,EAAA,mBAAwBM,OAAOgB,KAAA,OAAAJ,MAAA,YAAgCrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOgB,KAAA,QAAAJ,MAAA,aAAiC,GAAArB,EAAAc,GAAA,KAAAX,EAAA,mBAAwCM,OAAOe,MAAA,OAAAC,KAAA,eAAAJ,MAAA,YAAuDrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOe,MAAA,OAAAC,KAAA,YAAAJ,MAAA,YAAoDrB,EAAAc,GAAA,KAAAX,EAAA,mBAAoCM,OAAOe,MAAA,KAAAC,KAAA,MAAAJ,MAAA,aAA4C,gBAE5jDK,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACEnF,EACAoD,GATF,EAVA,SAAAgC,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/22.4e66f035ff574bcb1ab4.js","sourcesContent":["<template>\r\n  <div class=\"home_wrap\">\r\n    <el-row>\r\n      <el-button type=\"primary\" size=\"mini\" style=\"float:right;margin-bottom:20px;\" @click=\"nav2WriteTarget\">目标填写</el-button>\r\n    </el-row>\r\n    <el-row> \r\n      <el-table :data=\"tableData\" border size=\"mini\" align=\"center\"  v-loading=\"loading\"  :header-cell-style=\"tableHeaderColor\"  :row-style=\"tableRowStyle\">\r\n        <el-table-column align=\"center\" label=\"当月工作进度表\">\r\n          <el-table-column align=\"center\">目标</el-table-column>\r\n          <el-table-column label=\"月目标\" prop=\"target\" align=\"center\" class=\"big\"></el-table-column>\r\n          <el-table-column label=\"应完成\" prop=\"shouldBeDone\"  align=\"center\"></el-table-column>\r\n          <el-table-column label=\"实际完成\" prop=\"hasDone\"  align=\"center\"></el-table-column>\r\n          <el-table-column label=\"完成率\" prop=\"donePercent\"  align=\"center\"></el-table-column>\r\n           <el-table-column label=\"实际进度目标进度差\"  align=\"center\"> <el-table-column prop=\"diff\"  align=\"center\"></el-table-column> <el-table-column prop=\"diff2\"  align=\"center\"></el-table-column></el-table-column>\r\n          <el-table-column label=\"目标进度\" prop=\"plannedSpeed\"  align=\"center\"></el-table-column>\r\n          <el-table-column label=\"本月天数\" prop=\"monthDays\"  align=\"center\"></el-table-column>\r\n          <el-table-column label=\"日期\" prop=\"day\"  align=\"center\"></el-table-column>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { findTarget } from '@/api'\r\nimport {getUser} from '../../utils/auth'\r\nexport default {\r\n  data () {\r\n    return {\r\n      tableData: [],\r\n      loading:true\r\n    }\r\n  },\r\n  mounted(){\r\n    let userId = getUser().id;\r\n    let date = new Date();\r\n    let month = date.getMonth()+1;\r\n    let year = date.getFullYear()\r\n     let data = {\r\n       userId,\r\n       month,\r\n       year\r\n    }\r\n    findTarget(userId,year,month).then(res=>{\r\n      if (res) {\r\n          let list = {\r\n            target: res.workTarget,\r\n          }\r\n          let nowDay = date.getDate();\r\n          let fullDay = new Date(date.getFullYear(),(date.getMonth()+1),0).getDate() //当月总天数\r\n          list.shouldBeDone = (list.target/fullDay*nowDay).toFixed(2);\r\n          list.hasDone = res.firstWeekCustom+res.secondWeekCustom+res.thirdWeekCustom+res.fourthWeekCustom+res.fifthWeekCustom\r\n          list.donePercent = (list.hasDone/list.target*100).toFixed(2)+\"%\";\r\n          list.diff = (list.target - list.hasDone)>0?\"-\"+ (list.target - list.hasDone):\"+\"+ (list.target - list.hasDone)*(-1)\r\n          list.plannedSpeed = (nowDay/fullDay*100).toFixed(2)+\"%\"\r\n          list.monthDays = fullDay;\r\n          list.day =nowDay;\r\n          list.diff2 = ((list.hasDone/list.target-nowDay/fullDay)*100).toFixed(2)+\"%\"\r\n          this.tableData.push(list)\r\n      }\r\n      this.loading = false\r\n    \r\n      \r\n    })\r\n  },\r\n  methods: {\r\n    nav2WriteTarget () {\r\n      this.$router.push({ path: '/customer/writeTarget' })\r\n    },\r\n    tableHeaderColor(row,column,rowIndex,columnIndex){\r\n        return 'font-wight:800;font-size:20px;text-align:center;'\r\n    },\r\n     tableRowStyle({row,rowIndex}){\r\n                return 'font-size:15px;background:yellow;font-weight:800'\r\n      },\r\n  }\r\n}\r\n</script>\r\n\r\n<style >\r\n.home_wrap {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/home/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home_wrap\"},[_c('el-row',[_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-bottom\":\"20px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.nav2WriteTarget}},[_vm._v(\"目标填写\")])],1),_vm._v(\" \"),_c('el-row',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.tableData,\"border\":\"\",\"size\":\"mini\",\"align\":\"center\",\"header-cell-style\":_vm.tableHeaderColor,\"row-style\":_vm.tableRowStyle}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"当月工作进度表\"}},[_c('el-table-column',{attrs:{\"align\":\"center\"}},[_vm._v(\"目标\")]),_vm._v(\" \"),_c('el-table-column',{staticClass:\"big\",attrs:{\"label\":\"月目标\",\"prop\":\"target\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"应完成\",\"prop\":\"shouldBeDone\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"实际完成\",\"prop\":\"hasDone\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"完成率\",\"prop\":\"donePercent\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"实际进度目标进度差\",\"align\":\"center\"}},[_c('el-table-column',{attrs:{\"prop\":\"diff\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"diff2\",\"align\":\"center\"}})],1),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"目标进度\",\"prop\":\"plannedSpeed\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"本月天数\",\"prop\":\"monthDays\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"日期\",\"prop\":\"day\",\"align\":\"center\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1aad2d11\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1aad2d11\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1aad2d11\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
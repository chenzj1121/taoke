webpackJsonp([3],{RWDT:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o("js5j"),l=o("z8uV"),n=o("gyMJ"),i=o("tvpV"),r={components:{Page:a.a,ReasonBox:l.a},data:function(){return{form:{},page:{pageSize:10,pageNum:1,total:10},loading:!1,submitOptions:[{label:"全部",value:"全部"},{label:"品控驳回",value:"品控驳回"},{label:"大淘客平台审核中",value:"大淘客平台审核中"},{label:"大淘客平台驳回",value:"大淘客平台驳回"},{label:"大淘客在线",value:"大淘客在线"},{label:"大淘客下线",value:"大淘客下线"}],actionOptions:[{label:"全部",value:"全部"},{label:"聚划算",value:"聚划算"},{label:"淘抢购",value:"淘抢购"},{label:"常规推广",value:"常规推广"}],paybackOptions:[{label:"全部",value:"全部"},{label:"已回款",value:"已回款"},{label:"待回款",value:"待回款"},{label:"推广中",value:"推广中"}],isZeroOptions:[{label:"全部",value:"全部"},{label:"非零点",value:"非零点"},{label:"零点",value:"零点"}],dutyPersonOptions:[{label:"全部",value:"全部"}],isExamineOptions:[{label:"全部",value:"全部"},{label:"已查款",value:"已查款"},{label:"未查款",value:"未查款"}],settleStatusOptions:[{label:"全部",value:""},{label:"线上结算",value:"线上结算"},{label:"线下结算",value:"线下结算"}],cooperationDetailTableData:[],userList:[],deptList:[],type:2,viewReason:!1,reason:{},PRE_URL:n.a}},mounted:function(){this.type=Object(i.b)().type,this.getUserList(),this.getDeptList(),this.bindData()},methods:{checkReason:function(e){this.viewReason=!0,this.reason=e},closeBox:function(e){console.log(e),this.viewReason=e},delCoop:function(e,t){var o=this;this.$confirm("是否撤销【"+t+"】的该条提报?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){Object(n.m)(e).then(function(e){e.success?(o.$sucmsg(e.message),o.bindData()):o.$errmsg(e.message)})}).catch(function(){o.$message({type:"info",message:"已取消删除"})})},reCoop:function(e,t){var o=this;Object(n.K)(e).then(function(e){e&&o.$router.push({path:"/customer/cooperationDetail",name:"cooperationDetail",params:e,query:{coopId:t}}),console.log(e)})},viewGood:function(e){window.open("https://item.taobao.com/item.htm?ft=t&id="+e)},getDeptList:function(){var e=this;Object(n.z)().then(function(t){e.deptList=t})},getUserList:function(){var e=this;Object(n.O)().then(function(t){e.userList=t})},bindData:function(){var e=this,t=this.form,o=this.page.pageNum,a=this.page.pageSize;this.loading=!0,Object(n.y)(t,o,a).then(function(t){t.rows.forEach(function(t,o){["coopEndtime","coopStarttime","coopTbtime"].forEach(function(o){t[o]=e.getMyDate(t[o])}),e.deptList.forEach(function(e){t.coopDeptId==e.deptId&&(t.coopDeptId=e.deptName)}),e.userList.forEach(function(e){t.coopUserId==e.id&&(t.coopUser=e.username)})}),console.log(t),e.cooperationDetailTableData=t.rows,e.page.total=t.total,e.loading=!1}).catch(function(){e.loading=!1})},nav2Checking:function(e){this.$router.push({path:"checking",query:{id:e.coopBossId}})},getMyDate:function(e){var t=new Date(e),o=t.getFullYear(),a=t.getMonth()+1,l=t.getDate(),n=t.getHours(),i=t.getMinutes();return i<10&&(i="0"+i),o+"-"+a+"-"+l+" "+n+":"+i}}},s={render:function(){var e=this,t=this,o=t.$createElement,a=t._self._c||o;return a("div",[a("el-row",[a("el-form",{ref:"form",attrs:{inline:"",model:t.form,size:"mini"}},[a("el-form-item",{attrs:{prop:"coopType",label:"提报状态"}},[a("el-select",{model:{value:t.form.coopType,callback:function(e){t.$set(t.form,"coopType",e)},expression:"form.coopType"}},t._l(t.submitOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:"活动类型"}},[a("el-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.actionOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:"回款状态"}},[a("el-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.paybackOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:"提报时间"}},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",{attrs:{prop:"onlineTimeBegin",label:"上线时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.onlineTimeBegin,callback:function(e){t.$set(t.form,"onlineTimeBegin",e)},expression:"form.onlineTimeBegin"}})],1),t._v(" "),a("span",{staticStyle:{position:"relative",top:"5px",left:"-5px"}},[t._v("至")]),t._v(" "),a("el-form-item",{attrs:{prop:"onlineTimeEnd"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.onlineTimeEnd,callback:function(e){t.$set(t.form,"onlineTimeEnd",e)},expression:"form.onlineTimeEnd"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"shopName",label:"店铺名称"}},[a("el-input",{model:{value:t.form.shopName,callback:function(e){t.$set(t.form,"shopName",e)},expression:"form.shopName"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"shopId",label:"商品ID"}},[a("el-input",{model:{value:t.form.shopId,callback:function(e){t.$set(t.form,"shopId",e)},expression:"form.shopId"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"coopZero",label:"是否零点"}},[a("el-select",{model:{value:t.form.coopZero,callback:function(e){t.$set(t.form,"coopZero",e)},expression:"form.coopZero"}},t._l(t.isZeroOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("br"),t._v(" "),a("el-form-item",{attrs:{prop:"outlineTimeBegin",label:"下线时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.outlineTimeBegin,callback:function(e){t.$set(t.form,"outlineTimeBegin",e)},expression:"form.outlineTimeBegin"}})],1),t._v(" "),a("span",{staticStyle:{position:"relative",top:"5px",left:"-5px"}},[t._v("至")]),t._v(" "),a("el-form-item",{attrs:{prop:"outlineTimeEnd"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.outlineTimeEnd,callback:function(e){t.$set(t.form,"outlineTimeEnd",e)},expression:"form.outlineTimeEnd"}})],1),t._v(" "),0==t.type||1==t.type?a("el-form-item",{attrs:{prop:"coopUserId",label:"责任人"}},[a("el-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.dutyPersonOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:"是否查款"}},[a("el-select",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}},t._l(t.isExamineOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"coopPayType",label:"结算类型"}},[a("el-select",{model:{value:t.form.coopPayType,callback:function(e){t.$set(t.form,"coopPayType",e)},expression:"form.coopPayType"}},t._l(t.settleStatusOptions,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.bindData}},[t._v("查询")]),t._v(" "),a("el-button",{on:{click:function(){e.form={},e.bindData()}}},[t._v("重置")]),t._v("   \n        "),a("span",[t._v("驳回消息 0 条")]),t._v(" "),a("span",{staticClass:"link"},[t._v("点击查看")]),t._v("\n          \n        "),t._v(" "),a("span",{staticStyle:{"font-size":"12px"}},[t._v("店铺数： 123")])],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.cooperationDetailTableData,size:"mini"}},[a("el-table-column",{attrs:{type:"selection"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopTbtype",label:"提报状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{class:"待审核"==e.row.coopTbtype?"shenhe":"jieshu"},[t._v(t._s(e.row.coopTbtype))]),t._v(" "),"拒绝"==e.row.coopTbtype?a("p",{staticClass:"checkReject",on:{click:function(o){return t.checkReason(e.row)}}},[t._v("(查看)")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"coopPttype",label:"平台状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopCustomer",label:"商家客户"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopMainpicture",label:"商家主图"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"70px",height:"70px"},attrs:{src:e.row.coopMainpicture,"preview-src-list":[""+e.row.coopMainpicture]}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"coopActivity",label:"商家活动"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopGoodsId",label:"商品ID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopZero",label:"零点提报"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopAlterprice",label:"券后价"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopYhqnums",label:"优惠券总量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopYjscale",label:"佣金比例"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopTbtime",label:"提报时间",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopStarttime",label:"上线时间",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopEndtime",label:"结束时间",width:"100px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopBack",label:"回款金额"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopDeptId",label:"部门"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopUser",label:"责任人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopYhqName",label:"优惠券名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"coopMessage",label:"备注"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"操作",width:"360px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"flex"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.viewGood(e.row.coopGoodsId)}}},[t._v("查看商品")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(o){return t.delCoop(e.row.coopId,e.row.coopCustomer)}}},[t._v("撤回")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"warning"},on:{click:function(o){return t.reCoop(e.row.coopBossId,e.row.coopId)}}},[t._v("重新提报")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return t.nav2Checking(e.row)}}},[t._v("查款")])],1)]}}])})],1),t._v(" "),a("Page",{staticStyle:{"text-align":"right","margin-top":"10px"},attrs:{page:t.page},on:{change:t.bindData}})],1),t._v(" "),t.viewReason?a("ReasonBox",{attrs:{data:t.reason},on:{func:t.closeBox}}):t._e()],1)},staticRenderFns:[]};var p=o("C7Lr")(r,s,!1,function(e){o("d3+P")},"data-v-7bff958e",null);t.default=p.exports},"d3+P":function(e,t){},nyXF:function(e,t){},z8uV:function(e,t,o){"use strict";var a=o("gyMJ"),l={props:["data"],data:function(){return{PRE_URL:a.a}},methods:{close:function(){this.$emit("func",!1)}}},n={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"reasonBox"}},[o("div",{staticClass:"mainBox"},[o("div",{staticClass:"title1"},[o("p",[e._v("拒绝理由")]),e._v(" "),o("div",{staticClass:"shenheInfo"},[o("p",[e._v("审核人："+e._s(e.data.coopUserId))]),e._v(" "),o("p",[e._v("审核时间："+e._s(e.data.coopShenheTime))])])]),e._v(" "),o("el-input",{staticStyle:{width:"450px",padding:"0 10px"},attrs:{type:"textarea",rows:3,placeholder:"请输入内容",disabled:""},model:{value:e.data.coopShenheBz,callback:function(t){e.$set(e.data,"coopShenheBz",t)},expression:"data.coopShenheBz"}}),e._v(" "),o("div",{staticClass:"reasonPic"},[o("p",[e._v("点击查看大图：")]),e._v(" "),o("el-image",{staticStyle:{width:"150px",height:"150px",margin:"10px auto"},attrs:{src:e.PRE_URL+"/"+e.data.coopBeiyong,"preview-src-list":[this.PRE_URL+"/"+this.data.coopBeiyong]}})],1),e._v(" "),o("p",{attrs:{id:"closeBtn"},on:{click:e.close}},[e._v("关闭")])],1)])},staticRenderFns:[]};var i=o("C7Lr")(l,n,!1,function(e){o("nyXF")},"data-v-4e3934d9",null);t.a=i.exports}});
//# sourceMappingURL=3.d1ec884015906da16f74.js.map